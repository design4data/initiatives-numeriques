<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sylvie Meunier">
<meta name="description" content="Vous vous interrogez sur la mise en œuvre, dans le cadre de la décision partagée, de l’inspection des algorithmes d’intérêt général ? À partir d’un exemple concret, découvrons l’analyse exploratoire des modèles.">

<title>Initiatives numériques - Un modèle prédictif, ça ne sert pas, au final, à faire une prédiction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer"
  }
}</script>

<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<script src="../../site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="../../site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="../../site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="../../site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="../../site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="../../site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="../../site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="../../site_libs/highchart-binding-0.9.4/highchart.js"></script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Initiatives numériques</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projets.html">
 <span class="menu-text">Projets</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">L’auteur du site</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sommaire de l’article</h2>
   
  <ul>
  <li><a href="#lanalyse-exploratoire-des-modèles" id="toc-lanalyse-exploratoire-des-modèles" class="nav-link active" data-scroll-target="#lanalyse-exploratoire-des-modèles">1. L’analyse exploratoire des modèles ?</a></li>
  <li><a href="#cas-la-qualité-de-vie-dans-les-quartiers" id="toc-cas-la-qualité-de-vie-dans-les-quartiers" class="nav-link" data-scroll-target="#cas-la-qualité-de-vie-dans-les-quartiers">2. Cas : la qualité de vie dans les quartiers</a></li>
  <li><a href="#expérimentation-splines-gams" id="toc-expérimentation-splines-gams" class="nav-link" data-scroll-target="#expérimentation-splines-gams">3. Expérimentation : splines &amp; GAMs</a></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Un modèle prédictif, ça ne sert pas, au final, à faire une prédiction</h1>
  <div class="quarto-categories">
    <div class="quarto-category">évaluation des modèles</div>
  </div>
  </div>

<div>
  <div class="description">
    Vous vous interrogez sur la mise en œuvre, dans le cadre de la décision partagée, de l’inspection des algorithmes d’intérêt général ? À partir d’un exemple concret, découvrons l’analyse exploratoire des modèles.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Auteur·rice</div>
    <div class="quarto-title-meta-contents">
             <p>Sylvie Meunier </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Date de publication</div>
    <div class="quarto-title-meta-contents">
      <p class="date">30 décembre 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="descarteslarg.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Christine de Suède en discussion avec René Descartes, d’après Pierre Louis Dumesnil (1698-1781), détail.</figcaption><p></p>
</figure>
</div>
<blockquote class="blockquote">
<p>Ces longues chaînes de raisons, toutes simples et faciles, dont les géomètres ont coutume de se servir, pour parvenir à leurs plus difficiles démonstrations, m’avaient donné occasion de m’imaginer que toutes les choses qui peuvent tomber sous la connaissance des hommes s’entre-suivent en même façon (…)</p>
</blockquote>
<p>René Descartes, <em>Discours de la méthode</em>, 1637.</p>
<p><br>
</p>
<div class="page-columns page-full"><p>Dévoiler les règles d’un traitement algorithmique a été voulu par le législateur<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> afin de rendre compte du raisonnement sous-jacent adopté et de garantir la régularité des décisions administratives individuelles.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;<a href="https://guides.etalab.gouv.fr/algorithmes/">Expliquer les algorithmes publics</a>, guide en ligne élaboré par Etalab, département de la direction interministérielle du numérique de l’État.</p></li></div></div>
<p>Cette même démarche, celle de la mise à nu du fonctionnement d’un modèle, doit constituer, de la même manière, un passage obligé des choix démocratiques dès lors que l’action publique intègre un système d’intelligence artificielle.</p>
<p>Mais comment, notamment dans le cadre de la décision partagée ?</p>
<p>L’approche <em>Responsable AI,</em> ainsi que l’une de ses techniques, l’<strong>analyse exploratoire des modèles</strong> (EMA), me semblent être les bons outils à mobiliser. Il m’est agréable ici de recommander les ouvrages de <a href="https://www.tmwr.org/explain.html" title="Tidy modeling with R, chapitre 18">Julia Silge &amp; Max Kuhn</a>, de <a href="https://christophm.github.io/interpretable-ml-book/" title="Interpretable Machine Learning. A Guide for Making Black Box Models Explainable">Christoph Molnar</a> ou encore de <a href="https://ema.drwhy.ai/" title="Explanatory Model Analysis">Przemyslaw Biecek &amp; Tomasz Burzykowski</a>. Leur présentation de l’EMA est lumineuse et ce billet leur doit tant.</p>
<section id="lanalyse-exploratoire-des-modèles" class="level3">
<h3 class="anchored" data-anchor-id="lanalyse-exploratoire-des-modèles">1. L’analyse exploratoire des modèles ?</h3>
<p>Les modèles construits pour représenter un phénomène sont évalués pour conserver le meilleur. Mais la performance prédictive est-elle le seul outil à notre disposition ?</p>
<p>Schéma simplifié de l’EMA centré sur le principe de redevabilité et les acteurs concernés.</p>
<p>L’EMA partage avec l’EDA une méthode itérative.</p>
</section>
<section id="cas-la-qualité-de-vie-dans-les-quartiers" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="cas-la-qualité-de-vie-dans-les-quartiers">2. Cas : la qualité de vie dans les quartiers</h3>
<p>La ville représente pour ses habitants la première manifestation de l’État. À ce titre, il lui incombe d’organiser les services publics et de favoriser la cohésion sociale par tout levier d’action publique mobilisable.</p>
<p>Identifier les signes avant-coureurs de fragmentation du tissu social et en évaluer l’ampleur est par conséquent un enjeu politique majeur. La poursuite de cet objectif peut aujourd’hui s’appuyer sur un matériau d’usage courant, les enquêtes de satisfaction concernant les aménités urbaines et les caractéristiques sociaux-démographiques de la population.</p>
<div class="page-columns page-full"><p>Afin d’illustrer mon propos, je vous invite à plonger sans plus attendre dans un exercice de modélisation de la qualité de vie telle que décrite par les habitants eux-mêmes. Le jeu de données sur lequel nous allons travailler a été construit à partir de l’enquête <em>Perception Survey on the Quality of Life (QoL) in European Cities</em> <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> (édition 2019, <strong>données agrégées</strong>). Cette enquête est menée depuis 2007 par la Direction générale de la politique régionale et urbaine (Commission européenne) auprès d’un panel de 700 habitants pour chacune des 83 métropoles d’Europe analysées.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;Fichiers et Rapport 2020 : <a href="https://ec.europa.eu/regional_policy/en/information/maps/quality_of_life/">DG REGIO</a>. NB : une réponse est un score allant de 1 à 4.</p></li></div></div>
<p>D’un point de vue méthodologique, il nous est apparu judicieux de déplacer le terrain d’observation de la ville vers le quartier. Ce choix repose sur l’épaisseur socio-historique qui est traditionnellement attachée à la notion de quartier : nous espérons ainsi obtenir un tableau comparatif, quartier par quartier, plus contrasté et donc plus apte à saisir les convictions qui se cristallisent autour de la qualité de vie.</p>
<div class="page-columns page-full"><p>Ce changement d’échelle a été opéré grâce à la question q4_01<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> de l’enquête <em>Perception Survey on the Quality of Life (QoL) in European Cities</em>. La variable d’intérêt, <code>qscore</code>, créée à partir de cette question, représente la proportion de répondants se déclarant <strong>très</strong> satisfaits de leur quartier.</p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;“… on the whole, are you very satisfied, fairly satisfied, not very satisfied or not at all satisfied with: - The neighbourhood where you live …”</p></li></div></div>
<p>79 villes et 102 paramètres ont été intégrés dans notre étude et quelques variables hors sujet ont été supprimées.</p>
<div class="cell">

</div>
<div class="cell page-columns page-full" data-tbl-column="body">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"qol2019.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a> </span>
<span id="cb1-4"><a href="#cb1-4"></a>data <span class="sc">|&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">select</span>(city<span class="sc">:</span>area,qscore) <span class="sc">|&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">group_by</span>(area) <span class="sc">|&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), round, <span class="at">digits=</span><span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">kbl</span>(<span class="st">"html"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">kable_styling</span>(</span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, </span>
<span id="cb1-12"><a href="#cb1-12"></a>                        <span class="st">"condensed"</span>, <span class="st">"responsive"</span>), </span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="at">full_width =</span> <span class="cn">FALSE</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display column-body page-columns page-full">
<div id="tbl-cap-margin" class="anchored page-columns page-full">

<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> city </th>
   <th style="text-align:left;"> country </th>
   <th style="text-align:left;"> area </th>
   <th style="text-align:right;"> qscore </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Irakleio </td>
   <td style="text-align:left;"> EL </td>
   <td style="text-align:left;"> Balkans </td>
   <td style="text-align:right;"> 0.28 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Burgas </td>
   <td style="text-align:left;"> BG </td>
   <td style="text-align:left;"> Balkans </td>
   <td style="text-align:right;"> 0.46 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ostrava </td>
   <td style="text-align:left;"> CZ </td>
   <td style="text-align:left;"> Europe centrale </td>
   <td style="text-align:right;"> 0.44 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Graz </td>
   <td style="text-align:left;"> AT </td>
   <td style="text-align:left;"> Europe centrale </td>
   <td style="text-align:right;"> 0.68 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Berlin </td>
   <td style="text-align:left;"> DE </td>
   <td style="text-align:left;"> Europe de l’Ouest </td>
   <td style="text-align:right;"> 0.54 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bruxelles </td>
   <td style="text-align:left;"> BE </td>
   <td style="text-align:left;"> Europe de l’Ouest </td>
   <td style="text-align:right;"> 0.44 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Vilnius </td>
   <td style="text-align:left;"> LT </td>
   <td style="text-align:left;"> Europe orientale </td>
   <td style="text-align:right;"> 0.51 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tallinn </td>
   <td style="text-align:left;"> EE </td>
   <td style="text-align:left;"> Europe orientale </td>
   <td style="text-align:right;"> 0.46 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Reykjavík </td>
   <td style="text-align:left;"> IS </td>
   <td style="text-align:left;"> Pays nordiques </td>
   <td style="text-align:right;"> 0.67 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Oslo </td>
   <td style="text-align:left;"> NO </td>
   <td style="text-align:left;"> Pays nordiques </td>
   <td style="text-align:right;"> 0.64 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bologna </td>
   <td style="text-align:left;"> IT </td>
   <td style="text-align:left;"> Sud de l’Europe </td>
   <td style="text-align:right;"> 0.31 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Malaga </td>
   <td style="text-align:left;"> ES </td>
   <td style="text-align:left;"> Sud de l’Europe </td>
   <td style="text-align:right;"> 0.43 </td>
  </tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Table&nbsp;1:  Variable d’intérêt et variables purement descriptives </div></div>
</div>
</div>
<p><br>
</p>
<div class="panel-tabset" data-group="tools-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">variable d’intérêt</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">analyse géographique</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">perception vs urbanisation</a></li></ul>
<div class="tab-content" data-group="tools-tabset">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><img src="target.png" class="img-fluid"></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><img src="carto.png" class="img-fluid"></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="cell-output-display">

<div class="highchart html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d5c400321fc06179669c" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-d5c400321fc06179669c">{"x":{"hc_opts":{"chart":{"reflow":true,"style":{"fontFamily":"Luciole"}},"title":{"text":"<b>Taux de personnes très satisfaites de leur quartier \n           selon la taille de l'unité urbaine<\/b>","align":"left"},"yAxis":{"title":{"text":"<b>taux de personnes très satisfaites<\/b>"},"type":"linear","labels":{"format":"{value}%","useHTML":true}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"Pays nordiques","data":[{"city":"Aalborg","country":"DK","area":"Pays nordiques","pop":171059,"qscore":66.92,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":171059,"y":66.92,"color":"#FF00FF","size":171059,"z":171059},{"city":"Helsinki","country":"FI","area":"Pays nordiques","pop":967839,"qscore":55.81,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":967839,"y":55.81,"color":"#FF00FF","size":967839,"z":967839},{"city":"Kobenhavn","country":"DK","area":"Pays nordiques","pop":473297,"qscore":64.31,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":473297,"y":64.31,"color":"#FF00FF","size":473297,"z":473297},{"city":"Malmo","country":"SE","area":"Pays nordiques","pop":268804,"qscore":65.65,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":268804,"y":65.65,"color":"#FF00FF","size":268804,"z":268804},{"city":"Oslo","country":"NO","area":"Pays nordiques","pop":559321,"qscore":63.85,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":559321,"y":63.85,"color":"#FF00FF","size":559321,"z":559321},{"city":"Oulu","country":"FI","area":"Pays nordiques","pop":163903,"qscore":53.45,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":163903,"y":53.45,"color":"#FF00FF","size":163903,"z":163903},{"city":"Reykjavík","country":"IS","area":"Pays nordiques","pop":103292,"qscore":66.97,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":103292,"y":66.97,"color":"#FF00FF","size":103292,"z":103292},{"city":"Stockholm","country":"SE","area":"Pays nordiques","pop":1399756,"qscore":66.77,"n":8,"mean_qscore":62.97,"min_qscore":53.45,"max_qscore":66.97,"median_pop":371050,"min_pop":103292,"max_pop":1399756,"x":1399756,"y":66.77,"color":"#FF00FF","size":1399756,"z":1399756}],"type":"bubble","color":"#ff00ff"},{"name":"Europe de l’Ouest","data":[{"city":"Amsterdam","country":"NL","area":"Europe de l’Ouest","pop":684031,"qscore":51.11,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":684031,"y":51.11,"color":"#8B008B","size":684031,"z":684031},{"city":"Antwerpen","country":"BE","area":"Europe de l’Ouest","pop":418249,"qscore":62.46,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":418249,"y":62.46,"color":"#8B008B","size":418249,"z":418249},{"city":"Belfast","country":"UK","area":"Europe de l’Ouest","pop":390508,"qscore":62.21,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":390508,"y":62.21,"color":"#8B008B","size":390508,"z":390508},{"city":"Berlin","country":"DE","area":"Europe de l’Ouest","pop":3082382,"qscore":54.12,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":3082382,"y":54.12,"color":"#8B008B","size":3082382,"z":3082382},{"city":"Bordeaux","country":"FR","area":"Europe de l’Ouest","pop":537432,"qscore":47.77,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":537432,"y":47.77,"color":"#8B008B","size":537432,"z":537432},{"city":"Bruxelles","country":"BE","area":"Europe de l’Ouest","pop":965613,"qscore":43.77,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":965613,"y":43.77,"color":"#8B008B","size":965613,"z":965613},{"city":"Cardiff","country":"UK","area":"Europe de l’Ouest","pop":298761,"qscore":59.18,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":298761,"y":59.18,"color":"#8B008B","size":298761,"z":298761},{"city":"Dortmund","country":"DE","area":"Europe de l’Ouest","pop":508301,"qscore":49.86,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":508301,"y":49.86,"color":"#8B008B","size":508301,"z":508301},{"city":"Dublin","country":"IE","area":"Europe de l’Ouest","pop":1017510,"qscore":57.72,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":1017510,"y":57.72,"color":"#8B008B","size":1017510,"z":1017510},{"city":"Essen","country":"DE","area":"Europe de l’Ouest","pop":506677,"qscore":52.07,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":506677,"y":52.07,"color":"#8B008B","size":506677,"z":506677},{"city":"Geneve","country":"CH","area":"Europe de l’Ouest","pop":484312,"qscore":48.36,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":484312,"y":48.36,"color":"#8B008B","size":484312,"z":484312},{"city":"Glasgow","country":"UK","area":"Europe de l’Ouest","pop":524682,"qscore":52.41,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":524682,"y":52.41,"color":"#8B008B","size":524682,"z":524682},{"city":"Groningen","country":"NL","area":"Europe de l’Ouest","pop":173640,"qscore":62.94,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":173640,"y":62.94,"color":"#8B008B","size":173640,"z":173640},{"city":"Hamburg","country":"DE","area":"Europe de l’Ouest","pop":1560491,"qscore":57.29,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":1560491,"y":57.29,"color":"#8B008B","size":1560491,"z":1560491},{"city":"Leipzig","country":"DE","area":"Europe de l’Ouest","pop":493673,"qscore":60.54,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":493673,"y":60.54,"color":"#8B008B","size":493673,"z":493673},{"city":"Liege","country":"BE","area":"Europe de l’Ouest","pop":317111,"qscore":42.67,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":317111,"y":42.67,"color":"#8B008B","size":317111,"z":317111},{"city":"Lille","country":"FR","area":"Europe de l’Ouest","pop":723727,"qscore":41.14,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":723727,"y":41.14,"color":"#8B008B","size":723727,"z":723727},{"city":"London","country":"UK","area":"Europe de l’Ouest","pop":7086346,"qscore":55.6,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":7086346,"y":55.6,"color":"#8B008B","size":7086346,"z":7086346},{"city":"Luxembourg","country":"LU","area":"Europe de l’Ouest","pop":87360,"qscore":55.07,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":87360,"y":55.07,"color":"#8B008B","size":87360,"z":87360},{"city":"Manchester","country":"UK","area":"Europe de l’Ouest","pop":2252654,"qscore":51.11,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":2252654,"y":51.11,"color":"#8B008B","size":2252654,"z":2252654},{"city":"Marseille","country":"FR","area":"Europe de l’Ouest","pop":730150,"qscore":35.69,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":730150,"y":35.69,"color":"#8B008B","size":730150,"z":730150},{"city":"Munich","country":"DE","area":"Europe de l’Ouest","pop":1271542,"qscore":62.3,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":1271542,"y":62.3,"color":"#8B008B","size":1271542,"z":1271542},{"city":"Paris","country":"FR","area":"Europe de l’Ouest","pop":5504278,"qscore":37.46,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":5504278,"y":37.46,"color":"#8B008B","size":5504278,"z":5504278},{"city":"Rennes","country":"FR","area":"Europe de l’Ouest","pop":184479,"qscore":55.07,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":184479,"y":55.07,"color":"#8B008B","size":184479,"z":184479},{"city":"Rostock","country":"DE","area":"Europe de l’Ouest","pop":183075,"qscore":67.28,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":183075,"y":67.28,"color":"#8B008B","size":183075,"z":183075},{"city":"Rotterdam","country":"NL","area":"Europe de l’Ouest","pop":516053,"qscore":58.53,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":516053,"y":58.53,"color":"#8B008B","size":516053,"z":516053},{"city":"Strasbourg","country":"FR","area":"Europe de l’Ouest","pop":331596,"qscore":44.84,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":331596,"y":44.84,"color":"#8B008B","size":331596,"z":331596},{"city":"Tyneside","country":"UK","area":"Europe de l’Ouest","pop":709580,"qscore":59.9,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":709580,"y":59.9,"color":"#8B008B","size":709580,"z":709580},{"city":"Zurich","country":"CH","area":"Europe de l’Ouest","pop":1276025,"qscore":68.36,"n":29,"mean_qscore":53.68,"min_qscore":35.69,"max_qscore":68.36,"median_pop":524682,"min_pop":87360,"max_pop":7086346,"x":1276025,"y":68.36,"color":"#8B008B","size":1276025,"z":1276025}],"type":"bubble","color":"#8b008b"},{"name":"Europe orientale","data":[{"city":"Bianystok","country":"PL","area":"Europe orientale","pop":253869,"qscore":49.93,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":253869,"y":49.93,"color":"#904EF6","size":253869,"z":253869},{"city":"Bucharest","country":"RO","area":"Europe orientale","pop":1824322,"qscore":21.54,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":1824322,"y":21.54,"color":"#904EF6","size":1824322,"z":1824322},{"city":"ClujNapoca","country":"RO","area":"Europe orientale","pop":278913,"qscore":38.7,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":278913,"y":38.7,"color":"#904EF6","size":278913,"z":278913},{"city":"Gdansk","country":"PL","area":"Europe orientale","pop":398165,"qscore":50.02,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":398165,"y":50.02,"color":"#904EF6","size":398165,"z":398165},{"city":"Krakow","country":"PL","area":"Europe orientale","pop":660584,"qscore":43.53,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":660584,"y":43.53,"color":"#904EF6","size":660584,"z":660584},{"city":"PiatraNeamt","country":"RO","area":"Europe orientale","pop":98743,"qscore":35.56,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":98743,"y":35.56,"color":"#904EF6","size":98743,"z":98743},{"city":"Riga","country":"LV","area":"Europe orientale","pop":543942,"qscore":38.99,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":543942,"y":38.99,"color":"#904EF6","size":543942,"z":543942},{"city":"Tallinn","country":"EE","area":"Europe orientale","pop":358137,"qscore":46.44,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":358137,"y":46.44,"color":"#904EF6","size":358137,"z":358137},{"city":"Vilnius","country":"LT","area":"Europe orientale","pop":455808,"qscore":50.65,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":455808,"y":50.65,"color":"#904EF6","size":455808,"z":455808},{"city":"Warszawa","country":"PL","area":"Europe orientale","pop":1487378,"qscore":48.32,"n":10,"mean_qscore":42.37,"min_qscore":21.54,"max_qscore":50.65,"median_pop":426986,"min_pop":98743,"max_pop":1824322,"x":1487378,"y":48.32,"color":"#904EF6","size":1487378,"z":1487378}],"type":"bubble","color":"#904ef6"},{"name":"Europe centrale","data":[{"city":"Bratislava","country":"SK","area":"Europe centrale","pop":362147,"qscore":41.35,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":362147,"y":41.35,"color":"#008000","size":362147,"z":362147},{"city":"Budapest","country":"HU","area":"Europe centrale","pop":1522112,"qscore":34.39,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":1522112,"y":34.39,"color":"#008000","size":1522112,"z":1522112},{"city":"Graz","country":"AT","area":"Europe centrale","pop":235564,"qscore":67.82,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":235564,"y":67.82,"color":"#008000","size":235564,"z":235564},{"city":"Kosice","country":"SK","area":"Europe centrale","pop":204562,"qscore":39.66,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":204562,"y":39.66,"color":"#008000","size":204562,"z":204562},{"city":"Ljubljana","country":"SI","area":"Europe centrale","pop":247419,"qscore":53.1,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":247419,"y":53.1,"color":"#008000","size":247419,"z":247419},{"city":"Miskolc","country":"HU","area":"Europe centrale","pop":136206,"qscore":30.01,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":136206,"y":30.01,"color":"#008000","size":136206,"z":136206},{"city":"Ostrava","country":"CZ","area":"Europe centrale","pop":247133,"qscore":43.94,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":247133,"y":43.94,"color":"#008000","size":247133,"z":247133},{"city":"Praha","country":"CZ","area":"Europe centrale","pop":1093281,"qscore":47.85,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":1093281,"y":47.85,"color":"#008000","size":1093281,"z":1093281},{"city":"Wien","country":"AT","area":"Europe centrale","pop":1514645,"qscore":64.81,"n":9,"mean_qscore":46.99,"min_qscore":30.01,"max_qscore":67.82,"median_pop":247419,"min_pop":136206,"max_pop":1522112,"x":1514645,"y":64.81,"color":"#008000","size":1514645,"z":1514645}],"type":"bubble","color":"#008000"},{"name":"Balkans","data":[{"city":"Athina","country":"EL","area":"Balkans","pop":2292945,"qscore":13.98,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":2292945,"y":13.98,"color":"#52FC00","size":2292945,"z":2292945},{"city":"Beograd","country":"RS","area":"Balkans","pop":1426710,"qscore":24.98,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":1426710,"y":24.98,"color":"#52FC00","size":1426710,"z":1426710},{"city":"Burgas","country":"BG","area":"Balkans","pop":172104,"qscore":46,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":172104,"y":46,"color":"#52FC00","size":172104,"z":172104},{"city":"Irakleio","country":"EL","area":"Balkans","pop":125463,"qscore":28.27,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":125463,"y":28.27,"color":"#52FC00","size":125463,"z":125463},{"city":"Podgorica","country":"ME","area":"Balkans","pop":147997,"qscore":50.97,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":147997,"y":50.97,"color":"#52FC00","size":147997,"z":147997},{"city":"Skopje","country":"MK","area":"Balkans","pop":513832,"qscore":21.16,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":513832,"y":21.16,"color":"#52FC00","size":513832,"z":513832},{"city":"Sofia","country":"BG","area":"Balkans","pop":1060188,"qscore":39.74,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":1060188,"y":39.74,"color":"#52FC00","size":1060188,"z":1060188},{"city":"Tirana","country":"AL","area":"Balkans","pop":599175,"qscore":34.6,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":599175,"y":34.6,"color":"#52FC00","size":599175,"z":599175},{"city":"Zagreb","country":"HR","area":"Balkans","pop":683621,"qscore":44.02,"n":9,"mean_qscore":33.75,"min_qscore":13.98,"max_qscore":50.97,"median_pop":599175,"min_pop":125463,"max_pop":2292945,"x":683621,"y":44.02,"color":"#52FC00","size":683621,"z":683621}],"type":"bubble","color":"#52fc00"},{"name":"Sud de l’Europe","data":[{"city":"Barcelona","country":"ES","area":"Sud de l’Europe","pop":3112854,"qscore":40.25,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":3112854,"y":40.25,"color":"#5F9F6B","size":3112854,"z":3112854},{"city":"Bologna","country":"IT","area":"Sud de l’Europe","pop":342478,"qscore":30.51,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":342478,"y":30.51,"color":"#5F9F6B","size":342478,"z":342478},{"city":"Braga","country":"PT","area":"Sud de l’Europe","pop":155081,"qscore":32.64,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":155081,"y":32.64,"color":"#5F9F6B","size":155081,"z":155081},{"city":"Lefkosia","country":"CY","area":"Sud de l’Europe","pop":204135,"qscore":33.18,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":204135,"y":33.18,"color":"#5F9F6B","size":204135,"z":204135},{"city":"Lisboa","country":"PT","area":"Sud de l’Europe","pop":1560287,"qscore":28.32,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":1560287,"y":28.32,"color":"#5F9F6B","size":1560287,"z":1560287},{"city":"Madrid","country":"ES","area":"Sud de l’Europe","pop":4183492,"qscore":36.33,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":4183492,"y":36.33,"color":"#5F9F6B","size":4183492,"z":4183492},{"city":"Malaga","country":"ES","area":"Sud de l’Europe","pop":479326,"qscore":42.7,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":479326,"y":42.7,"color":"#5F9F6B","size":479326,"z":479326},{"city":"Naples","country":"IT","area":"Sud de l’Europe","pop":2616098,"qscore":21.14,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":2616098,"y":21.14,"color":"#5F9F6B","size":2616098,"z":2616098},{"city":"Oviedo","country":"ES","area":"Sud de l’Europe","pop":193488,"qscore":46.92,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":193488,"y":46.92,"color":"#5F9F6B","size":193488,"z":193488},{"city":"Palermo","country":"IT","area":"Sud de l’Europe","pop":577504,"qscore":20.87,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":577504,"y":20.87,"color":"#5F9F6B","size":577504,"z":577504},{"city":"Rome","country":"IT","area":"Sud de l’Europe","pop":2488438,"qscore":20.81,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":2488438,"y":20.81,"color":"#5F9F6B","size":2488438,"z":2488438},{"city":"Turin","country":"IT","area":"Sud de l’Europe","pop":777926,"qscore":28.57,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":777926,"y":28.57,"color":"#5F9F6B","size":777926,"z":777926},{"city":"Valletta","country":"MT","area":"Sud de l’Europe","pop":189102,"qscore":55.84,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":189102,"y":55.84,"color":"#5F9F6B","size":189102,"z":189102},{"city":"Verona","country":"IT","area":"Sud de l’Europe","pop":224848,"qscore":39.45,"n":14,"mean_qscore":34.11,"min_qscore":20.81,"max_qscore":55.84,"median_pop":528415,"min_pop":155081,"max_pop":4183492,"x":224848,"y":39.45,"color":"#5F9F6B","size":224848,"z":224848}],"type":"bubble","color":"#5f9f6b"}],"xAxis":{"type":"logarithmic","title":{"text":"<b>log(pop)<\/b>"},"max":9500000},"subtitle":{"text":"<b>Qualité de vie élevée et phénomène d'urbanisation<\/b>","align":"left","style":{"fontSize":"15px"}},"tooltip":{"shared":true,"formatter":"function(tooltip){\n          function isArray(obj) {\n          return Object.prototype.toString.call(obj) === '[object Array]';\n          }\n\n          function splat(obj) {\n          return isArray(obj) ? obj : [obj];\n          }\n\n          var items = this.points || splat(this), series = items[0].series, s;\n\n          // sort the values\n          items.sort(function(a, b){\n          return ((a.y < b.y) ? -1 : ((a.y > b.y) ? 1 : 0));\n          });\n          items.reverse();\n\n          return tooltip.defaultFormatter.call(this, tooltip);\n        }","pointFormat":"<b>{point.city}<\/b> (<b>{point.series.name}<\/b>) <br>\n             Pays : {point.country} <br> \n             Population : <b>{point.x:,.0f}<\/b> hab. <br> \n             Excellente qualité de vie : <b>{point.y}<\/b> <br><br> \n             Cohorte <b>{point.area}<\/b> : <b>{point.n}<\/b> villes","valueSuffix":"%","useHTML":true,"crosshairs":true,"borderWidth":4,"headerFormat":" ","footerFormat":" "},"legend":{"useHTML":true,"enable":true}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Luciole","debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<p>(<em>survolez avec la souris chaque bulle et/ou les valeurs de la légende</em>)<br>
</p>
</div>
</div>
</div>
<p>Les 102 variables prédictives sélectionnées peuvent être réparties en deux groupes :</p>
<ul>
<li><p>35 prédicteurs urbains :</p>
<ul>
<li>dynamisme économique</li>
<li>infrastructures et aménagements urbains</li>
<li>services publics</li>
<li>mobilités</li>
<li>environnement</li>
<li>sécurité</li>
<li>mentalité propre à la ville ;</li>
</ul></li>
</ul>
<div class="panel-tabset" data-group="tools-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">variables * score (1)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">variables * score (2)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">liste des prédicteurs urbains</a></li></ul>
<div class="tab-content" data-group="tools-tabset">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p><img src="urbain1.png" class="img-fluid"></p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p><img src="urbain2.png" class="img-fluid"></p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<tbody>
<tr class="odd">
<td style="text-align: left;">public_spaces</td>
<td style="text-align: left;">public_admin_fees_reasonable</td>
<td style="text-align: left;">public_transp_reliable</td>
<td style="text-align: left;">people_can_be_trusted</td>
</tr>
<tr class="even">
<td style="text-align: left;">easy_good_job</td>
<td style="text-align: left;">public_admin_easily_accessed_online</td>
<td style="text-align: left;">green_spaces</td>
<td style="text-align: left;">people_can_be_trusted_neighbourhood</td>
</tr>
<tr class="odd">
<td style="text-align: left;">easy_housing_reasonableprice</td>
<td style="text-align: left;">public_admin_corruption</td>
<td style="text-align: left;">air_quality</td>
<td style="text-align: left;">inclusiv_ingeneral</td>
</tr>
<tr class="even">
<td style="text-align: left;">schools_facilities</td>
<td style="text-align: left;">confidence_police</td>
<td style="text-align: left;">noise_level</td>
<td style="text-align: left;">inclusiv_minorities</td>
</tr>
<tr class="odd">
<td style="text-align: left;">health_care_services</td>
<td style="text-align: left;">public_transport</td>
<td style="text-align: left;">cleanliness</td>
<td style="text-align: left;">inclusiv_lgbtq</td>
</tr>
<tr class="even">
<td style="text-align: left;">cultural_facilities</td>
<td style="text-align: left;">public_transp_affordable</td>
<td style="text-align: left;">safe_alone_night</td>
<td style="text-align: left;">inclusiv_immig</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sport_facilities</td>
<td style="text-align: left;">public_transp_safe</td>
<td style="text-align: left;">safe_alone_night_neighbourhood</td>
<td style="text-align: left;">inclusiv_young_families</td>
</tr>
<tr class="even">
<td style="text-align: left;">satisfied_public_admin</td>
<td style="text-align: left;">public_transp_easy_get</td>
<td style="text-align: left;">money_property_stolen</td>
<td style="text-align: left;">inclusiv_elderly</td>
</tr>
<tr class="odd">
<td style="text-align: left;">public_admin_straightforward_easy_understand</td>
<td style="text-align: left;">public_transp_frequent</td>
<td style="text-align: left;">assaulted_mugged</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p>67 prédicteurs sociaux-démographiques :</p>
<ul>
<li>genre, âge, état de santé</li>
<li>composition du ménage</li>
<li>niveau d’étude</li>
<li>niveau de revenus</li>
<li>emploi occupé</li>
<li>mode de transport privilégié</li>
<li>degré d’optimisme.</li>
</ul></li>
</ul>
<div class="panel-tabset" data-group="tools-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">variables * score (1)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">variables * score (2)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">variables * score (3)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">liste des prédicteurs sociaux</a></li></ul>
<div class="tab-content" data-group="tools-tabset">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p><img src="soc1.png" class="img-fluid"></p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p><img src="soc2.png" class="img-fluid"></p>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<p><img src="soc3.png" class="img-fluid"><br>
</p>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<tbody>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">lone_parent_children_more25</td>
<td style="text-align: left;">difficulties_bills_timetotime</td>
<td style="text-align: left;">craft_related_trade</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: left;">couple_nochild</td>
<td style="text-align: left;">no_difficulties_pay</td>
<td style="text-align: left;">plate_machine_operator_assembler</td>
</tr>
<tr class="odd">
<td style="text-align: left;">from15to24</td>
<td style="text-align: left;">couple_child_less25</td>
<td style="text-align: left;">employee_self_empl_family_business</td>
<td style="text-align: left;">elementary_occupation</td>
</tr>
<tr class="even">
<td style="text-align: left;">from25to34</td>
<td style="text-align: left;">couple_children_more25</td>
<td style="text-align: left;">unemployed_notlooking_job</td>
<td style="text-align: left;">armed_forces</td>
</tr>
<tr class="odd">
<td style="text-align: left;">from35to44</td>
<td style="text-align: left;">other_type</td>
<td style="text-align: left;">unemployed_looking_job</td>
<td style="text-align: left;">full_time</td>
</tr>
<tr class="even">
<td style="text-align: left;">from45to54</td>
<td style="text-align: left;">mean_people_house</td>
<td style="text-align: left;">retired</td>
<td style="text-align: left;">part_time</td>
</tr>
<tr class="odd">
<td style="text-align: left;">from55to64</td>
<td style="text-align: left;">no_secondary</td>
<td style="text-align: left;">unable_work</td>
<td style="text-align: left;">car</td>
</tr>
<tr class="even">
<td style="text-align: left;">from65to74</td>
<td style="text-align: left;">lower_secondary</td>
<td style="text-align: left;">student</td>
<td style="text-align: left;">motorcycle</td>
</tr>
<tr class="odd">
<td style="text-align: left;">over75</td>
<td style="text-align: left;">upper_secondary</td>
<td style="text-align: left;">fulltime_homemaker</td>
<td style="text-align: left;">bicycle</td>
</tr>
<tr class="even">
<td style="text-align: left;">very_bad_health</td>
<td style="text-align: left;">shortcycle</td>
<td style="text-align: left;">other_jobs</td>
<td style="text-align: left;">foot</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bad_health</td>
<td style="text-align: left;">bachelor</td>
<td style="text-align: left;">manager</td>
<td style="text-align: left;">train</td>
</tr>
<tr class="even">
<td style="text-align: left;">fair_health</td>
<td style="text-align: left;">master</td>
<td style="text-align: left;">professional</td>
<td style="text-align: left;">urban_public_transport</td>
</tr>
<tr class="odd">
<td style="text-align: left;">good_health</td>
<td style="text-align: left;">doctoral</td>
<td style="text-align: left;">technician_associate_pro</td>
<td style="text-align: left;">others</td>
</tr>
<tr class="even">
<td style="text-align: left;">very_good_health</td>
<td style="text-align: left;">job_situation</td>
<td style="text-align: left;">clerical</td>
<td style="text-align: left;">do_not_commute</td>
</tr>
<tr class="odd">
<td style="text-align: left;">oneperson_household</td>
<td style="text-align: left;">financial_situation_household</td>
<td style="text-align: left;">services_sales</td>
<td style="text-align: left;">life_you_lead</td>
</tr>
<tr class="even">
<td style="text-align: left;">lone_parent_child_less25</td>
<td style="text-align: left;">difficulties_bills_most_time</td>
<td style="text-align: left;">agricultural</td>
<td style="text-align: left;">satisfied_city</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="expérimentation-splines-gams" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="expérimentation-splines-gams">3. Expérimentation : splines &amp; GAMs</h3>
<p>Une ligne d’introduction</p>
<p><br>
</p>
<table class="table">
<caption>Les échelles d’analyse post-modélisation.</caption>
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 31%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Explication</strong></td>
<td style="text-align: center;">locale</td>
<td style="text-align: center;">cohorte</td>
<td style="text-align: center;">globale</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Observation</strong></td>
<td style="text-align: center;">élément unique</td>
<td style="text-align: center;">sous-ensemble</td>
<td style="text-align: center;">ensemble</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Notation</strong></td>
<td style="text-align: center;"><span class="math inline">x_i</span></td>
<td style="text-align: center;"><span class="math inline">I \subset D_N</span></td>
<td style="text-align: center;"><span class="math inline">D_N=\{(x_i,y_i)\}_1{_\leq{_i{_\leq{_N}}}}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Phénomène</strong></td>
<td style="text-align: center;">individu</td>
<td style="text-align: center;">groupe d’individus</td>
<td style="text-align: center;">population</td>
</tr>
</tbody>
</table>
<p><br>
</p>
<p>A nouveau un paragraphe.</p>



<div class="no-row-height column-margin column-container"><div class="">
<p>Rappel : un modèle de régression linéaire multiple pour <span class="math inline">n</span> observations collectées et <span class="math inline">p</span> variables s’écrit de la manière suivante :</p>
<p><span class="math display">y_i = \beta_0 + \beta_1 x_i{_1} + ... + \beta_p x_i{_p} + \epsilon_i,</span> <span class="math display">i = 1,...,n</span></p>
</div></div></section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Site réalisé avec <a href="https://www.quarto.org/">Quarto</a> | Police de caractères <a href="https://luciole-vision.com">Luciole</a></div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../droits.html">© Copyright 2022 Sylvie Meunier. Licence</a>
  </li>  
</ul>
      </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/design4data">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/design4data">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/sylviemeunier">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>